# 单丝截面分析软件 v1.0
## 1. 功能概述
  实现从纤维截面图像中单根纤维（单丝）形态信息的自动化提取，和单丝统计参量的自动化计算。流程图如下：
  ![image](https://github.com/user-attachments/assets/12198dee-6354-45a0-b9bf-b4042682b573)

### 1.1 超参数输入
  根据图像的分辨率或放大倍率，由人手动输入相关参数，实现算法的相关计算。参数如下：
  * **图像分辨率**：用于单丝等效直径的计算，参数为有量纲量（单位为微米/像素）；
  * **图像再分割阈值系数**：用于再分割的单丝阈值设置，参数为无量纲量；
  * **图像结构相似性指数阈值**：用于筛选再分割过程需要修正分割的单丝，参数为无量纲量；
  * **消除随机性分割错误迭代次数**：用于消除算法原理的随机性缺陷，参数为无量纲量。

### 1.2 图像预处理
  包括图像灰度化、滤波、二值化处理共三个部分，原始图像经过依次逐步处理后，得到预处理后的图像。
#### 1.2.1 图像灰度化处理
  将三通道图像转为单通道图像，实现图像信息的数据降维。
#### 1.2.2 图像滤波处理
  利用3*3高斯核对单通道图像进行滤波处理，去除图像噪声。
#### 1.2.3 图像二值化处理
  通过大津阈值法，实现对图像的二值分割，减少后续单丝分割计算量。

### 1.3 单丝初分割及结果可视化
  包括图像像素矩阵获取、二值对比度修正、单丝初分割和结果可视化四个部分。
#### 1.3.1 图像像素矩阵的获取
  创建和原始图像相同尺寸的0像素矩阵，遍历处理图像的每个像素灰度信息，填充0像素矩阵。
#### 1.3.2 二值对比度修正
  受图像拍摄条件的影响，即使原图经二值处理，255灰度值的像素点，未必是纤维区域，这对建立方法的普适性造成影响，因此提出像素反转判据。思想如下：
  * 若像素灰度值为255的区域的最大轮廓周长大于像素灰度值为0的区域的最大轮廓周长，则对预处理图片进行像素反转，即：像素反转后灰度值=255-像素反转前灰度值；
  * 若像素灰度值为255的区域的最大轮廓周长小于等于像素灰度值为0的区域的最大轮廓周长，不进行像素反转。
  经判据处理后，预处理后图像中，像素灰度值为255的像素点视作纤维区域的点，像素灰度值为0的像素点视作树脂或背景区域的点。
#### 单丝初分割
  基于**循环遍历**思想，对二值像素矩阵进行单丝初分割，步骤如下：
    1. 创建遍历标记矩阵，初始置为0，在矩阵中标记遍历过的像素点，避免重复遍历；
